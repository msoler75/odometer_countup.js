var t=window&&window.__assign||function(){return t=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},t.apply(this,arguments)},n=window.requestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e=function(){function e(n){this.version="1.0",this.defaults={duration:.8,lastDigitDelay:.25},this.cell_digits=null,this.options=t(t({},this.defaults),n),this.cell_digits=null}return e.prototype.render=function(t,e){var i=this.options,o=!1;if(!this.cell_digits){if(o=!0,!document.querySelector("style[odometer]")){var r=document.createElement("style");r.setAttribute("odometer","odometer"),r.innerHTML=".odometer-numbers{display:inline-flex;line-height:100%;overflow-y:hidden}.odometer-numbers>span{display:flex;flex-direction:column;justify-content:start;align-items:center;height:1em;will-change:transform;transform:translateY(0)}",document.head.appendChild(r)}t.innerHTML='<div class="odometer-numbers"></div>',this.cell_digits=[]}for(var l='<span style="color:transparent">0</span>',a="transform ".concat(i.duration,"s ease-out"),s=this.cell_digits.length;s<e.length;s++){var d=document.createElement("span");d.style.transition=a,d.innerHTML=o?"":l,t.firstChild&&t.firstChild.appendChild(d),this.cell_digits.push({container:d,current:void 0,position:o?1:0,new:!0})}function c(t,e){t.position--,t.container.appendChild(e),t.lastTimeAdd=+new Date,t.new?(t.new=!1,n((function(){t.container.style.transform="translateY(".concat(t.position,"em)")}))):t.container.style.transform="translateY(".concat(t.position,"em)")}var u,m,h=Math.max(e.length,this.cell_digits.length),f=function(){u=s<e.length?e.charAt(s):null;var t=p.cell_digits[s];t.current!=u&&(t.current=u,(m=document.createElement("span")).innerHTML=null===u?l:u,t.container.children.length<4?c(t,m):function(t,n){t.nextToAdd&&(c(t,t.nextToAdd),clearTimeout(t.lastTimer),t.nextToAdd=null);var e=+new Date,o=1e3*i.lastDigitDelay-(e-t.lastTimeAdd);i.lastDigitDelay<=0||e-t.lastTimeAdd>=1.05*o?(c(t,n),t.nextToAdd=null):(t.nextToAdd=n,t.lastTimer=setTimeout((function(){c(t,t.nextToAdd),t.nextToAdd=null}),1e3*i.duration))}(t,m),clearTimeout(t.timerClean),t.timerClean=setTimeout((function(){t.timerClean=null,t.container.children.length<3||(t.container.style.transition="none",n((function(){for(t.position=-1;t.container.children.length>1;)t.container.removeChild(t.container.firstChild);var e=document.createElement("span");e.innerHTML=l,t.container.insertBefore(e,t.container.firstChild),t.container.style.transform="translateY(".concat(t.position,"em)"),n((function(){t.container.style.transition=a}))})))}),1e3*((i.duration||.8)+(i.duration||.25))+2500))},p=this;for(s=0;s<h;s++)f()},e}();export{e as Odometer};
